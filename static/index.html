<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
	<link rel="stylesheet" href="/static/css/dygraph.min.css">
	
	<title>Dygraph-Socketio</title>
</head>
<body>
	

	
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jsrender.min.js"></script>
	<script src="/static/js/socket.io.min.js"></script>
	<script src="/static/js/dygraph.min.js"></script>
	
	<script>
	var socketio = null;  // 全局变量，websocket client对象
	$(function() {  // 初始化通信部分
		socketio = io.connect(location.protocol + '//' + document.domain + ':' + location.port + '/');
		socketio.on('connect', function(socket) {
			console.log('connected to server at ' + Date().toLocaleString());
		});
		socketio.on('disconnect', function(socket) {
			console.log('disconnect from server at ' + Date().toLocaleString());
		});
		socketio.on('hello', function(world) {
			console.log(world);
		});
	});
	</script>
	
</body>
</html>